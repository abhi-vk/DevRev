version: "2"
service_account:
  display_name: Reminder Bot
event_sources:
  organization:
    - name: devrev-webhook
      description: Event coming from DevRev
      display_name: DevRev
      type: devrev-webhook
      config:
        event_types:
          - work_created
    - name: scheduled-events
      description: Events scheduled from snap-ins
      display_name: scheduled-events
      type: flow-events
functions:
  - name: function_1
    description: Function to schedule a reminder
  - name: function_2
    description: Function to send a reminder
automations:
  - name: Schedule a reminder
    source: devrev-webhook
    event_types:
      - work_created
    function: function_1
  - name: send a reminder
    source: scheduled-events
    event_types:
      - custom:work-created-scheduled-event
    function: function_2
commands:
  - name: comment_here
    namespace: devrev
    description: Command to trigger function to add comment to this work item.
    surfaces:
      - surface: discussions
        object_types:
          - issue
          - ticket
    usage_hint: "Command to add comment to this work item."
    function: function_2